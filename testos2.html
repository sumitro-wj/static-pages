<html>

<head></head>

<body>
<script>
    (function(d, s, id){
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
    fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'Messenger'));
</script>

<script>
  window.extAsyncInit = function() {
    var element = document.getElementById("injectStat");
    element.innerHTML = "Facebook Extensions injected successfully.";
    MessengerExtensions.getUserID(function success(uids) {
  	// User ID was successfully obtained. 
      	var psid = uids.psid;
          var element = document.getElementById("userid");
            element.innerHTML = psid;
            element = document.getElementById("userdet");
            element.innerHTML = JSON.stringify(uids);
    }, function error(err) {      
  	// Error handling code
    });    

    MessengerExtensions.getSupportedFeatures(function success(result) {
        var features = result.supported_features;
        var f = "";
        for (var i = 0; i < features.length; i++) {
           f += features[i] +", ";
        }
        var element = document.getElementById("features");
            element.innerHTML = f;
    }, function error(err) {

    });
  };
</script>

<script>
    
</script>

<h1 id="injectStat">Loading...</h1>
<h2>UserID: <span id="userid">Not identified. You're probably not using Facebook Webview.</span></h2>
<h2>User: <span id="userdet">Not identified. You're probably not using Facebook Webview.</span></h2>
<h2>Available Features:</h2>
<h3 id="features" style="margin-left:10px;">Not identified. You're probably not using Facebook Webview.</h3> 
</body>

</html>